{% extends "base.html" %}
{% load i18n %}

{% block title %}{{ page_title }}{{ block.super }}{% endblock %}

{% block extra_header %}
{% endblock %}

{% block content %}
{% if errors %}
<div class="alert alert-danger" role="alert">
    <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
    <span class="sr-only">Error:</span>
    {% for error in errors %}
        {% trans error %}
    {% endfor %}
</div>
{% endif %}

{% if successes %}
<div class="alert alert-success" role="alert">
    <span class="glyphicon glyphicon-ok-sign" aria-hidden="true"></span>
    <span class="sr-only">Success:</span>
    {% for success in successes %}
        {% trans success %}
    {% endfor %}
</div>
{% endif %}

<div id="heading" id="" class="row mb-20">
    <div class="col-md-12">
        <h3>{{ page_title }}</h3>
    </div>
</div>

<div id="filter" class="row mb-20">
    <div class="col-md-12">
        <p><strong>{% trans "Upload Impact Class Config File" %}</strong></p>
        <p>{{ form.impact_class_file.label_tag }} {{ form.impact_class_file.help_text }}</p>
        <form method="post" enctype="multipart/form-data" action="{% url "report_impact_config" %}" class="form-inline">
            <div class="form-group">
                
                {{ form.non_field_errors }}
                {{ form.impact_class_file.errors }}
                
                <input id="id_impact_class_file" name="impact_class_file" type="file">
            </div>
            <input type="hidden" name="csrfmiddlewaretoken" value="{{ csrf_token }}">
            <button type="submit" class="btn btn-default">{% trans "Upload" %}</button>
            <a class="btn btn-default" href="{{ JAKSAFE_IMPACT_CLASS_URL }}{{ JAKSAFE_IMPACT_CLASS_FILENAME }}" target="_blank">{% trans "Download This Config" %}</a>
        </form>
    </div>
</div>

<div id="content" class="row mb-20">
    <div class="col-md-12">
        <table class="table table-striped table-hover">
            <thead>
                <tr>
                    <th>#</th>
                    <th>{% trans "Kelas" %}</th>
                    <th>{% trans "Tinggi Min" %}</th>
                    <th>{% trans "Tinggi Max" %}</th>
                    <th>{% trans "Durasi Min" %}</th>
                    <th>{% trans "Durasi Max" %}</th>
                </tr>
            </thead>
            <tbody>
                {% if csvlist %}
                {% for row in csvlist %}
                <tr>
                    <td>{{ forloop.counter }}.</td>
                    <td>{{ row.kelas }}</td>
                    <td>
                    {% if row.kedalaman_bawah == 'NULL' %}
                    {% trans "Terdampak" %}
                    {% else %}
                    {{ row.kedalaman_bawah }}
                    {% endif %}
                    </td>
                    <td>
                    {% if row.kedalaman_atas == 'NULL' %}
                    {% trans "Terdampak" %}
                    {% else %}
                    {{ row.kedalaman_atas }}
                    {% endif %}
                    </td>
                    <td>{{ row.durasi_bawah }}</td>
                    <td>{{ row.durasi_atas }}</td>
                </tr>
                {% endfor %}
                {% endif %}
                <!--
                <tr>
                    <td>1.</td>
                    <td>A1</td>
                    <td>10</td>
                    <td>50</td>
                    <td>0</td>
                    <td>1</td>
                </tr>
                <tr>
                    <td>2.</td>
                    <td>A2</td>
                    <td>50</td>
                    <td>150</td>
                    <td>0</td>
                    <td>1</td>
                </tr>
                <tr>
                    <td>3.</td>
                    <td>A3</td>
                    <td>150</td>
                    <td>1000</td>
                    <td>0</td>
                    <td>1</td>
                </tr>
                <tr>
                    <td>4.</td>
                    <td>A4</td>
                    <td>Terdampak</td>
                    <td>Terdampak</td>
                    <td>0</td>
                    <td>1</td>
                </tr>
                <tr>
                    <td>5.</td>
                    <td>B1</td>
                    <td>10</td>
                    <td>50</td>
                    <td>1</td>
                    <td>4</td>
                </tr>
                <tr>
                    <td>6.</td>
                    <td>B2</td>
                    <td>50</td>
                    <td>150</td>
                    <td>1</td>
                    <td>4</td>
                </tr>
                <tr>
                    <td>7.</td>
                    <td>B3</td>
                    <td>150</td>
                    <td>1000</td>
                    <td>1</td>
                    <td>4</td>
                </tr>
                <tr>
                    <td>8.</td>
                    <td>B4</td>
                    <td>Terdampak</td>
                    <td>Terdampak</td>
                    <td>1</td>
                    <td>4</td>
                </tr>
                <tr>
                    <td>9.</td>
                    <td>C1</td>
                    <td>10</td>
                    <td>50</td>
                    <td>5</td>
                    <td>8</td>
                </tr>
                <tr>
                    <td>10.</td>
                    <td>C2</td>
                    <td>50</td>
                    <td>150</td>
                    <td>5</td>
                    <td>8</td>
                </tr>
                <tr>
                    <td>11.</td>
                    <td>C3</td>
                    <td>150</td>
                    <td>1000</td>
                    <td>5</td>
                    <td>8</td>
                </tr>
                <tr>
                    <td>12.</td>
                    <td>C4</td>
                    <td>Terdampak</td>
                    <td>Terdampak</td>
                    <td>5</td>
                    <td>8</td>
                </tr>
                -->
            </tbody>
        </table>
    </div>
</div>
{% endblock %}

{% block extra_footer %}
{% endblock %}